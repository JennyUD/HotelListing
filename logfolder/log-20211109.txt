2021-11-09 04:27:46.765 -04:00 [INF] Application Is Starting 
 2021-11-09 04:28:02.921 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 04:28:15.020 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 04:28:15.021 -04:00 [INF] Hosting environment: Development 
 2021-11-09 04:28:15.021 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 04:28:17.836 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 04:28:19.634 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 1885.4428ms 
 2021-11-09 04:28:28.802 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 04:28:29.540 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 738.9928ms 
 2021-11-09 05:17:14.549 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 05:17:14.930 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 398.3044ms 
 2021-11-09 05:25:00.726 -04:00 [INF] Application Is Starting 
 2021-11-09 05:25:06.805 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 05:25:08.611 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 05:25:08.612 -04:00 [INF] Hosting environment: Development 
 2021-11-09 05:25:08.612 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 05:25:08.776 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 05:25:10.784 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 2008.8195ms 
 2021-11-09 05:25:12.571 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 05:25:14.129 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1557.2417ms 
 2021-11-09 05:28:30.527 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 112 
 2021-11-09 05:28:30.550 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 05:28:31.816 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 05:28:31.915 -04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 05:28:35.519 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 05:28:38.266 -04:00 [INF] Executed DbCommand (326ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [ID]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity(); 
 2021-11-09 05:28:38.428 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type '<>f__AnonymousType1`1[[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
 2021-11-09 05:28:38.493 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 6569.6744ms 
 2021-11-09 05:28:38.501 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 05:28:38.515 -04:00 [ERR] An unhandled exception has occurred while executing the request. 
 System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-09 05:28:38.889 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 112 - 500 - text/plain 8363.8387ms 
 2021-11-09 05:29:57.023 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel - - 
 2021-11-09 05:29:59.174 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 05:29:59.266 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'. 
 2021-11-09 05:29:59.276 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)' 
 2021-11-09 05:29:59.353 -04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 05:29:59.705 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 05:30:01.752 -04:00 [INF] Executed DbCommand (535ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[ID], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h] 
 2021-11-09 05:30:01.952 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
 2021-11-09 05:30:02.249 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 2894.8492ms 
 2021-11-09 05:30:02.252 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)' 
 2021-11-09 05:30:02.289 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel - - - 200 402 application/json;+charset=utf-8 5279.9043ms 
 2021-11-09 05:33:28.028 -04:00 [INF] Application Is Starting 
 2021-11-09 05:33:34.580 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 05:33:36.187 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 05:33:36.188 -04:00 [INF] Hosting environment: Development 
 2021-11-09 05:33:36.188 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 05:33:36.480 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 05:33:37.035 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 582.4728ms 
 2021-11-09 05:33:39.418 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 05:33:40.979 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1558.3209ms 
 2021-11-09 05:34:19.048 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 112 
 2021-11-09 05:34:19.073 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 05:34:19.544 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 05:34:19.679 -04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 05:34:24.658 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 05:34:28.844 -04:00 [INF] Executed DbCommand (1,545ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [ID]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity(); 
 2021-11-09 05:34:29.123 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type '<>f__AnonymousType1`1[[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
 2021-11-09 05:34:29.282 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 9589.1327ms 
 2021-11-09 05:34:29.287 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 05:34:29.302 -04:00 [ERR] An unhandled exception has occurred while executing the request. 
 System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-09 05:34:29.592 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 112 - 500 - text/plain 10545.2249ms 
 2021-11-09 05:44:51.205 -04:00 [INF] Application Is Starting 
 2021-11-09 05:44:57.461 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 05:44:58.732 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 05:44:58.732 -04:00 [INF] Hosting environment: Development 
 2021-11-09 05:44:58.732 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 05:44:59.077 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 05:44:59.669 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 602.2883ms 
 2021-11-09 05:45:02.496 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 05:45:03.130 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 634.4999ms 
 2021-11-09 05:45:31.238 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 78 
 2021-11-09 05:45:31.292 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 05:45:31.646 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 05:45:31.737 -04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 05:45:34.610 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 05:45:36.568 -04:00 [ERR] Failed executing DbCommand (485ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [ID]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity(); 
 2021-11-09 05:45:36.763 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'HotelListing.Data.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Hotels_Countries_CountryId". The conflict occurred in database "HotelListings", table "dbo.Countries", column 'ID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:300b4b8a-7fda-4641-9881-02da67e1fe14
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) 
 Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Hotels_Countries_CountryId". The conflict occurred in database "HotelListings", table "dbo.Countries", column 'ID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:300b4b8a-7fda-4641-9881-02da67e1fe14
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2021-11-09 05:45:38.798 -04:00 [ERR] Something Went in the GetHotels 
 Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Hotels_Countries_CountryId". The conflict occurred in database "HotelListings", table "dbo.Countries", column 'ID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:300b4b8a-7fda-4641-9881-02da67e1fe14
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HotelListing.Repository.UnitOfWork.Save() in C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing\Repository\UnitOfWork.cs:line 36
   at HotelListing.Controllers.HotelController.CreateHotel(CreateHotelDTO HotelDTO) in C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing\Controllers\HotelController.cs:line 88
2021-11-09 05:45:39.189 -04:00 [INF] Executing ObjectResult, writing value of type 'System.String'. 
 2021-11-09 05:45:39.220 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 7464.5474ms 
 2021-11-09 05:45:39.223 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 05:45:39.243 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 78 - 500 - text/plain;+charset=utf-8 8006.5221ms 
 2021-11-09 05:46:46.150 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 85 
 2021-11-09 05:46:46.154 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 05:46:46.183 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 05:46:46.184 -04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 05:46:46.237 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 05:46:46.284 -04:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [ID]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity(); 
 2021-11-09 05:46:46.400 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type '<>f__AnonymousType1`1[[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
 2021-11-09 05:46:46.466 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 282.3785ms 
 2021-11-09 05:46:46.468 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 05:46:46.473 -04:00 [ERR] An unhandled exception has occurred while executing the request. 
 System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-09 05:46:46.535 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 85 - 500 - text/plain 385.4937ms 
 2021-11-09 05:49:15.824 -04:00 [INF] Application Is Starting 
 2021-11-09 05:49:26.143 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 05:49:27.416 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 05:49:27.416 -04:00 [INF] Hosting environment: Development 
 2021-11-09 05:49:27.417 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 05:49:27.561 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 05:49:28.000 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 445.5414ms 
 2021-11-09 05:49:29.717 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 05:49:30.626 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 909.6571ms 
 2021-11-09 06:22:58.740 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 91 
 2021-11-09 06:22:58.849 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 06:22:59.435 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 06:22:59.572 -04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 06:23:02.541 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 06:23:04.081 -04:00 [INF] Executed DbCommand (241ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [ID]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity(); 
 2021-11-09 06:23:04.226 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type '<>f__AnonymousType1`2[[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[HotelListing.Data.Hotel, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
 2021-11-09 06:23:04.293 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 4711.3655ms 
 2021-11-09 06:23:04.297 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 06:23:04.304 -04:00 [ERR] An unhandled exception has occurred while executing the request. 
 System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-09 06:23:04.505 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 91 - 500 - text/plain 5784.8850ms 
 2021-11-09 06:25:05.789 -04:00 [INF] Application Is Starting 
 2021-11-09 06:25:10.855 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 06:25:11.993 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 06:25:11.993 -04:00 [INF] Hosting environment: Development 
 2021-11-09 06:25:11.994 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 06:25:12.140 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 06:25:12.489 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 355.2579ms 
 2021-11-09 06:25:13.819 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 06:25:14.370 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 544.3605ms 
 2021-11-09 06:26:02.636 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 91 
 2021-11-09 06:26:02.654 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 06:26:03.050 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 06:26:03.150 -04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 06:26:06.247 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 06:26:07.863 -04:00 [INF] Executed DbCommand (261ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [ID]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity(); 
 2021-11-09 06:26:08.033 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'HotelListing.Data.Hotel'. 
 2021-11-09 06:26:08.214 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 5053.5941ms 
 2021-11-09 06:26:08.215 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 06:26:08.226 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 91 - 201 96 application/json;+charset=utf-8 5593.8789ms 
 2021-11-09 06:55:52.110 -04:00 [INF] Application Is Starting 
 2021-11-09 06:55:56.845 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 06:55:57.996 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 06:55:57.996 -04:00 [INF] Hosting environment: Development 
 2021-11-09 06:55:57.996 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 06:55:58.127 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 06:55:58.466 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 345.3293ms 
 2021-11-09 06:55:59.764 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 06:56:01.424 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1659.7695ms 
 2021-11-09 06:57:18.465 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 88 
 2021-11-09 06:57:18.485 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 06:57:18.878 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
 2021-11-09 06:57:18.886 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 06:57:18.893 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 88 - 401 - - 430.5783ms 
 2021-11-09 06:58:55.607 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 65 
 2021-11-09 06:58:55.611 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 06:58:55.647 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 06:58:55.769 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing). 
 2021-11-09 06:58:56.951 -04:00 [INF] Login Attempt for igboanugouj@gmail.com 
 2021-11-09 06:58:58.721 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 06:59:00.579 -04:00 [INF] Executed DbCommand (215ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
 2021-11-09 06:59:01.469 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
 2021-11-09 06:59:01.740 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
 2021-11-09 06:59:01.870 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 6084.0847ms 
 2021-11-09 06:59:01.871 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 06:59:01.893 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 65 - 202 336 application/json;+charset=utf-8 6285.9166ms 
 2021-11-09 06:59:07.811 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 88 
 2021-11-09 06:59:07.812 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 06:59:07.814 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
 2021-11-09 06:59:07.814 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 06:59:07.819 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 88 - 401 - - 8.1939ms 
 2021-11-09 07:09:58.732 -04:00 [INF] Application Is Starting 
 2021-11-09 07:10:06.223 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 07:10:09.107 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 07:10:09.108 -04:00 [INF] Hosting environment: Development 
 2021-11-09 07:10:09.108 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 07:10:09.285 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 07:10:09.919 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 640.2201ms 
 2021-11-09 07:10:12.178 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 07:10:12.642 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 466.2186ms 
 2021-11-09 07:10:34.449 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 88 
 2021-11-09 07:10:34.468 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 07:10:34.825 -04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator) 
 2021-11-09 07:10:34.833 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 07:10:34.842 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 88 - 401 - - 395.0422ms 
 2021-11-09 07:10:56.619 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel - - 
 2021-11-09 07:10:57.533 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 07:10:57.989 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'. 
 2021-11-09 07:10:57.991 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)' 
 2021-11-09 07:10:58.135 -04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 07:11:02.328 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 07:11:04.925 -04:00 [INF] Executed DbCommand (191ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[ID], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h] 
 2021-11-09 07:11:05.172 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
 2021-11-09 07:11:05.578 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 7422.4267ms 
 2021-11-09 07:11:05.585 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)' 
 2021-11-09 07:11:05.606 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel - - - 200 805 application/json;+charset=utf-8 8986.6436ms 
 2021-11-09 07:12:09.016 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44363/api/Hotel - 0 
 2021-11-09 07:12:09.029 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 07:12:09.030 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'. 
 2021-11-09 07:12:09.031 -04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator) 
 2021-11-09 07:12:09.048 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 07:12:09.051 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:44363/api/Hotel - 0 - 401 - - 35.9723ms 
 2021-11-09 07:13:18.529 -04:00 [INF] Application Is Starting 
 2021-11-09 07:13:24.069 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 07:13:25.265 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 07:13:25.266 -04:00 [INF] Hosting environment: Development 
 2021-11-09 07:13:25.266 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 07:13:25.414 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 07:13:25.843 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 434.3854ms 
 2021-11-09 07:13:26.722 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 07:13:27.688 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 966.2487ms 
 2021-11-09 07:14:32.504 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 89 
 2021-11-09 07:14:32.525 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 07:14:32.886 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 07:14:32.998 -04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 07:14:36.261 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 07:14:38.000 -04:00 [INF] Executed DbCommand (396ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [ID]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity(); 
 2021-11-09 07:14:38.185 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'HotelListing.Data.Hotel'. 
 2021-11-09 07:14:38.243 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 5235.9834ms 
 2021-11-09 07:14:38.247 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 07:14:38.257 -04:00 [ERR] An unhandled exception has occurred while executing the request. 
 System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-09 07:14:38.432 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 89 - 500 - text/plain 5933.7222ms 
 2021-11-09 07:15:30.981 -04:00 [INF] Application Is Starting 
 2021-11-09 07:15:34.473 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 07:15:35.457 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 07:15:35.457 -04:00 [INF] Hosting environment: Development 
 2021-11-09 07:15:35.458 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 07:15:35.594 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 07:15:35.956 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 369.5091ms 
 2021-11-09 07:15:36.882 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 07:15:37.447 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 565.3180ms 
 2021-11-09 07:16:40.890 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 88 
 2021-11-09 07:16:40.914 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 07:16:41.257 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 07:16:41.361 -04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 07:16:44.403 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 07:16:45.908 -04:00 [INF] Executed DbCommand (119ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [ID]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity(); 
 2021-11-09 07:16:46.072 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'HotelListing.Data.Hotel'. 
 2021-11-09 07:16:46.139 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 4770.1087ms 
 2021-11-09 07:16:46.143 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 07:16:46.153 -04:00 [ERR] An unhandled exception has occurred while executing the request. 
 System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-09 07:16:46.354 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 88 - 500 - text/plain 5464.7439ms 
 2021-11-09 07:21:02.382 -04:00 [INF] Application Is Starting 
 2021-11-09 07:21:07.032 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 07:21:08.531 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 07:21:08.532 -04:00 [INF] Hosting environment: Development 
 2021-11-09 07:21:08.532 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 07:21:08.762 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 07:21:09.211 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 451.5548ms 
 2021-11-09 07:21:10.178 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 07:21:11.048 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 869.3950ms 
 2021-11-09 07:22:13.394 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 89 
 2021-11-09 07:22:13.424 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 07:22:13.804 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 07:22:13.914 -04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 07:22:17.078 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 07:22:18.730 -04:00 [INF] Executed DbCommand (175ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [ID]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity(); 
 2021-11-09 07:22:18.906 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'HotelListing.Data.Hotel'. 
 2021-11-09 07:22:19.089 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 5164.1448ms 
 2021-11-09 07:22:19.090 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)' 
 2021-11-09 07:22:19.104 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Hotel application/json-patch+json 89 - 201 95 application/json;+charset=utf-8 5709.9185ms 
 2021-11-09 07:23:04.308 -04:00 [INF] Application Is Starting 
 2021-11-09 07:23:08.496 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 07:23:09.866 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 07:23:09.866 -04:00 [INF] Hosting environment: Development 
 2021-11-09 07:23:09.866 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 07:23:10.037 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 07:23:10.467 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 436.3663ms 
 2021-11-09 07:23:11.296 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 07:23:11.806 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 509.9360ms 
 2021-11-09 07:23:33.927 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/api/Hotel - - 
 2021-11-09 07:23:34.293 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)' 
 2021-11-09 07:23:34.360 -04:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 07:23:37.081 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 07:23:38.781 -04:00 [INF] Executed DbCommand (119ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[ID], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h] 
 2021-11-09 07:23:38.964 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
 2021-11-09 07:23:39.438 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 5066.1513ms 
 2021-11-09 07:23:39.441 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)' 
 2021-11-09 07:23:39.460 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/api/Hotel - - - 200 1093 application/json;+charset=utf-8 5532.9740ms 
 2021-11-09 07:31:38.841 -04:00 [INF] Application Is Starting 
 2021-11-09 07:31:44.049 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 07:31:45.563 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 07:31:45.564 -04:00 [INF] Hosting environment: Development 
 2021-11-09 07:31:45.564 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 07:31:45.732 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 07:31:46.257 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 531.2160ms 
 2021-11-09 07:31:48.110 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 07:31:48.563 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 453.1470ms 
 2021-11-09 07:33:18.555 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44363/api/Hotel/1 - 0 
 2021-11-09 07:33:20.401 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 07:33:20.653 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'. 
 2021-11-09 07:33:20.670 -04:00 [INF] Executing endpoint '405 HTTP Method Not Supported' 
 2021-11-09 07:33:20.670 -04:00 [INF] Executed endpoint '405 HTTP Method Not Supported' 
 2021-11-09 07:33:20.708 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:44363/api/Hotel/1 - 0 - 405 - - 2175.3587ms 
 2021-11-09 07:34:11.453 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 65 
 2021-11-09 07:34:11.478 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 07:34:11.491 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 07:34:11.680 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing). 
 2021-11-09 07:34:12.823 -04:00 [INF] Login Attempt for igboanugouj@gmail.com 
 2021-11-09 07:34:14.426 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 07:34:16.286 -04:00 [INF] Executed DbCommand (287ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
 2021-11-09 07:34:16.714 -04:00 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
 2021-11-09 07:34:16.800 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
 2021-11-09 07:34:16.893 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 5203.736ms 
 2021-11-09 07:34:16.894 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 07:34:16.910 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 65 - 202 336 application/json;+charset=utf-8 5456.7282ms 
 2021-11-09 07:46:37.705 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44363/api/Hotel/1 - 0 
 2021-11-09 07:46:37.863 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 07:46:37.885 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'. 
 2021-11-09 07:46:37.895 -04:00 [INF] Executing endpoint '405 HTTP Method Not Supported' 
 2021-11-09 07:46:37.895 -04:00 [INF] Executed endpoint '405 HTTP Method Not Supported' 
 2021-11-09 07:46:37.949 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:44363/api/Hotel/1 - 0 - 405 - - 264.8626ms 
 2021-11-09 07:46:54.020 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44363/api/Hotel/1 - 0 
 2021-11-09 07:46:54.115 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 07:46:54.118 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null. 
 2021-11-09 07:46:54.118 -04:00 [INF] Executing endpoint '405 HTTP Method Not Supported' 
 2021-11-09 07:46:54.120 -04:00 [INF] Executed endpoint '405 HTTP Method Not Supported' 
 2021-11-09 07:46:54.132 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:44363/api/Hotel/1 - 0 - 405 - - 116.2234ms 
 2021-11-09 07:47:26.172 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44363/api/Hotel/1 - 0 
 2021-11-09 07:47:26.174 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 07:47:26.182 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null. 
 2021-11-09 07:47:26.182 -04:00 [INF] Executing endpoint '405 HTTP Method Not Supported' 
 2021-11-09 07:47:26.182 -04:00 [INF] Executed endpoint '405 HTTP Method Not Supported' 
 2021-11-09 07:47:26.203 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:44363/api/Hotel/1 - 0 - 405 - - 31.0458ms 
 2021-11-09 07:47:42.813 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - 
 2021-11-09 07:47:42.851 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 07:47:42.851 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null. 
 2021-11-09 07:47:42.854 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetAHotel (HotelListing)' 
 2021-11-09 07:47:43.007 -04:00 [INF] Route matched with {action = "GetAHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 07:47:43.208 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 07:47:43.742 -04:00 [INF] Executed DbCommand (130ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[ID], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[ID], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[ID]
WHERE [h].[ID] = @__id_0 
 2021-11-09 07:47:43.843 -04:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'. 
 2021-11-09 07:47:43.916 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetAHotel (HotelListing) in 909.1745ms 
 2021-11-09 07:47:43.916 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetAHotel (HotelListing)' 
 2021-11-09 07:47:43.928 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - - 200 151 application/json;+charset=utf-8 1115.0392ms 
 2021-11-09 07:57:25.798 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - 
 2021-11-09 07:57:25.813 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetAHotel (HotelListing)' 
 2021-11-09 07:57:25.817 -04:00 [INF] Route matched with {action = "GetAHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 07:57:25.855 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 07:57:25.927 -04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[ID], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[ID], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[ID]
WHERE [h].[ID] = @__id_0 
 2021-11-09 07:57:25.932 -04:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'. 
 2021-11-09 07:57:25.935 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetAHotel (HotelListing) in 118.0443ms 
 2021-11-09 07:57:25.935 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetAHotel (HotelListing)' 
 2021-11-09 07:57:25.952 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - - 200 151 application/json;+charset=utf-8 154.6093ms 
 2021-11-09 07:57:46.858 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - 
 2021-11-09 07:57:46.861 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetAHotel (HotelListing)' 
 2021-11-09 07:57:46.861 -04:00 [INF] Route matched with {action = "GetAHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 07:57:46.874 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 07:57:46.899 -04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[ID], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[ID], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[ID]
WHERE [h].[ID] = @__id_0 
 2021-11-09 07:57:46.900 -04:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'. 
 2021-11-09 07:57:46.901 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetAHotel (HotelListing) in 37.2814ms 
 2021-11-09 07:57:46.901 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetAHotel (HotelListing)' 
 2021-11-09 07:57:46.913 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - - 200 151 application/json;+charset=utf-8 54.4338ms 
 2021-11-09 07:59:16.631 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/api/Hotel/1 - - 
 2021-11-09 07:59:16.638 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetAHotel (HotelListing)' 
 2021-11-09 07:59:16.639 -04:00 [INF] Route matched with {action = "GetAHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 07:59:16.645 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 07:59:16.745 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[ID], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[ID], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[ID]
WHERE [h].[ID] = @__id_0 
 2021-11-09 07:59:16.792 -04:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'. 
 2021-11-09 07:59:16.808 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetAHotel (HotelListing) in 168.6749ms 
 2021-11-09 07:59:16.808 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetAHotel (HotelListing)' 
 2021-11-09 07:59:16.810 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/api/Hotel/1 - - - 200 151 application/json;+charset=utf-8 178.8026ms 
 2021-11-09 07:59:17.439 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/favicon.ico - - 
 2021-11-09 07:59:17.483 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/favicon.ico - - - 404 - - 44.0252ms 
 2021-11-09 08:00:58.328 -04:00 [INF] Application Is Starting 
 2021-11-09 08:01:04.295 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 08:01:05.674 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 08:01:05.675 -04:00 [INF] Hosting environment: Development 
 2021-11-09 08:01:05.675 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 08:01:05.812 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 08:01:06.231 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 423.1048ms 
 2021-11-09 08:01:07.590 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 08:01:07.985 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 394.9599ms 
 2021-11-09 08:02:02.718 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 65 
 2021-11-09 08:02:02.774 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 08:02:03.135 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 08:02:03.326 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing). 
 2021-11-09 08:02:04.784 -04:00 [INF] Login Attempt for igboanugouj@gmail.com 
 2021-11-09 08:02:06.672 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 08:02:08.425 -04:00 [INF] Executed DbCommand (168ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
 2021-11-09 08:02:08.863 -04:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
 2021-11-09 08:02:09.093 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
 2021-11-09 08:02:09.192 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 5854.2618ms 
 2021-11-09 08:02:09.196 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 08:02:09.209 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 65 - 202 336 application/json;+charset=utf-8 6492.8064ms 
 2021-11-09 08:03:07.547 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - 
 2021-11-09 08:03:07.576 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetAHotel (HotelListing)' 
 2021-11-09 08:03:07.613 -04:00 [INF] Route matched with {action = "GetAHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing). 
 2021-11-09 08:03:07.771 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 08:03:07.944 -04:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[ID], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[ID], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[ID]
WHERE [h].[ID] = @__id_0 
 2021-11-09 08:03:08.141 -04:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'. 
 2021-11-09 08:03:08.210 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetAHotel (HotelListing) in 597.084ms 
 2021-11-09 08:03:08.210 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetAHotel (HotelListing)' 
 2021-11-09 08:03:08.213 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - - 200 151 application/json;+charset=utf-8 666.2881ms 
 2021-11-09 08:07:36.128 -04:00 [INF] Application Is Starting 
 2021-11-09 08:07:44.061 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 08:07:49.266 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 08:07:49.267 -04:00 [INF] Hosting environment: Development 
 2021-11-09 08:07:49.267 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 08:07:49.503 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 08:07:50.178 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 704.7424ms 
 2021-11-09 08:07:55.546 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 08:07:56.900 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1353.8397ms 
 2021-11-09 08:11:23.445 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - 
 2021-11-09 08:11:24.965 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
 2021-11-09 08:11:24.985 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 08:11:25.089 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - - 401 - - 1670.9881ms 
 2021-11-09 08:11:47.498 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - 
 2021-11-09 08:11:48.743 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 08:11:49.237 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null. 
 2021-11-09 08:11:49.240 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
 2021-11-09 08:11:49.251 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 08:11:49.254 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - - 401 - - 1756.0907ms 
 2021-11-09 08:13:00.108 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - 
 2021-11-09 08:13:00.124 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 08:13:00.126 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null. 
 2021-11-09 08:13:00.128 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
 2021-11-09 08:13:00.128 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 08:13:00.131 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - - 401 - - 23.5551ms 
 2021-11-09 08:48:02.833 -04:00 [INF] Application Is Starting 
 2021-11-09 08:48:08.474 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 08:48:09.900 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 08:48:09.901 -04:00 [INF] Hosting environment: Development 
 2021-11-09 08:48:09.901 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 08:48:10.067 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 08:48:10.669 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 602.9697ms 
 2021-11-09 08:48:13.172 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 08:48:14.092 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 920.1206ms 
 2021-11-09 08:49:17.403 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - 
 2021-11-09 08:49:19.077 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 08:49:19.389 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'. 
 2021-11-09 08:49:19.412 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
 2021-11-09 08:49:19.444 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 08:49:19.465 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - - 401 - - 2061.9813ms 
 2021-11-09 08:49:56.000 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1? - - 
 2021-11-09 08:49:56.025 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 08:49:56.026 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'. 
 2021-11-09 08:49:56.027 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
 2021-11-09 08:49:56.028 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 08:49:56.030 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1? - - - 401 - - 61.1275ms 
 2021-11-09 08:51:21.447 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - 
 2021-11-09 08:51:21.454 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 08:51:21.456 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'. 
 2021-11-09 08:51:21.457 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
 2021-11-09 08:51:21.458 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 08:51:21.462 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - - 401 - - 15.0841ms 
 2021-11-09 08:51:27.903 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - 
 2021-11-09 08:51:27.917 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 08:51:27.917 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'. 
 2021-11-09 08:51:27.918 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
 2021-11-09 08:51:27.918 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 08:51:27.929 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1 - - - 401 - - 24.3446ms 
 2021-11-09 08:51:40.861 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1? - - 
 2021-11-09 08:51:40.880 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 08:51:40.881 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'. 
 2021-11-09 08:51:40.881 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
 2021-11-09 08:51:40.881 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 08:51:40.884 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1? - - - 401 - - 24.9571ms 
 2021-11-09 08:52:51.077 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 65 
 2021-11-09 08:52:51.084 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 08:52:51.103 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 08:52:51.225 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing). 
 2021-11-09 08:52:52.393 -04:00 [INF] Login Attempt for igboanugouj@gmail.com 
 2021-11-09 08:52:54.212 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 08:52:56.290 -04:00 [INF] Executed DbCommand (167ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
 2021-11-09 08:52:56.736 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
 2021-11-09 08:52:56.819 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
 2021-11-09 08:52:56.945 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 5709.6228ms 
 2021-11-09 08:52:56.952 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 08:52:56.978 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 65 - 202 336 application/json;+charset=utf-8 5900.7900ms 
 2021-11-09 08:53:17.059 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1? - - 
 2021-11-09 08:53:17.068 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 08:53:17.069 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null. 
 2021-11-09 08:53:17.069 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
 2021-11-09 08:53:17.070 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 08:53:17.072 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1? - - - 401 - - 12.5239ms 
 2021-11-09 08:54:39.791 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:44363/api/Hotel/1? - - 
 2021-11-09 08:54:39.794 -04:00 [INF] Failed to validate the token. 
 Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-11-09 08:54:39.795 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null. 
 2021-11-09 08:54:39.797 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
 2021-11-09 08:54:39.798 -04:00 [INF] AuthenticationScheme: Bearer was challenged. 
 2021-11-09 08:54:39.805 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:44363/api/Hotel/1? - - - 401 - - 14.3324ms 
 2021-11-09 11:18:06.301 -04:00 [INF] Application Is Starting 
 2021-11-09 11:18:11.360 -04:00 [INF] User profile is available. Using 'C:\Users\UDOKAJ\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
 2021-11-09 11:18:12.958 -04:00 [INF] Application started. Press Ctrl+C to shut down. 
 2021-11-09 11:18:12.958 -04:00 [INF] Hosting environment: Development 
 2021-11-09 11:18:12.958 -04:00 [INF] Content root path: C:\Users\UDOKAJ\source\repos\HotelListing\HotelListing 
 2021-11-09 11:18:13.135 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/index.html - - 
 2021-11-09 11:18:13.699 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/index.html - - - 200 - text/html;charset=utf-8 570.6657ms 
 2021-11-09 11:18:17.967 -04:00 [INF] Request starting HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - 
 2021-11-09 11:18:19.659 -04:00 [INF] Request finished HTTP/2 GET https://localhost:44363/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1687.8645ms 
 2021-11-09 11:25:35.084 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 64 
 2021-11-09 11:25:35.273 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 11:25:36.456 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 11:25:37.021 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing). 
 2021-11-09 11:25:39.163 -04:00 [INF] Login Attempt for igboanugou@gmail.com 
 2021-11-09 11:25:41.658 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 11:25:44.690 -04:00 [INF] Executed DbCommand (751ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
 2021-11-09 11:25:44.799 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'HotelListing.Models.LoginUserDTO'. 
 2021-11-09 11:25:44.908 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 7873.7336ms 
 2021-11-09 11:25:44.910 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 11:25:44.945 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 64 - 401 55 application/json;+charset=utf-8 9904.8005ms 
 2021-11-09 11:30:05.699 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 64 
 2021-11-09 11:30:05.702 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 11:30:05.728 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 11:30:05.736 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing). 
 2021-11-09 11:30:05.739 -04:00 [INF] Login Attempt for igboanugou@gmail.com 
 2021-11-09 11:30:05.794 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 11:30:05.820 -04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
 2021-11-09 11:30:05.821 -04:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'HotelListing.Models.LoginUserDTO'. 
 2021-11-09 11:30:05.822 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 86.225ms 
 2021-11-09 11:30:05.822 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 11:30:05.823 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 64 - 401 55 application/json;+charset=utf-8 124.7292ms 
 2021-11-09 11:30:15.730 -04:00 [INF] Request starting HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 65 
 2021-11-09 11:30:15.732 -04:00 [INF] CORS policy execution successful. 
 2021-11-09 11:30:15.736 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 11:30:15.736 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing). 
 2021-11-09 11:30:15.755 -04:00 [INF] Login Attempt for igboanugouj@gmail.com 
 2021-11-09 11:30:15.770 -04:00 [INF] Entity Framework Core 5.0.11 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
 2021-11-09 11:30:15.791 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
 2021-11-09 11:30:16.225 -04:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
 2021-11-09 11:30:16.488 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
 2021-11-09 11:30:16.502 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 765.6966ms 
 2021-11-09 11:30:16.502 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)' 
 2021-11-09 11:30:16.503 -04:00 [INF] Request finished HTTP/2 POST https://localhost:44363/api/Account/login application/json-patch+json 65 - 202 336 application/json;+charset=utf-8 772.6872ms 
 